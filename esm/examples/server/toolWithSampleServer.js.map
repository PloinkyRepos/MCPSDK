{"version":3,"file":"toolWithSampleServer.js","sources":["../../../../src/examples/server/toolWithSampleServer.ts"],"sourcesContent":["// Run with: npx tsx src/examples/server/toolWithSampleServer.ts\n\nimport { McpServer } from '../../server/mcp.js';\nimport { StdioServerTransport } from '../../server/stdio.js';\nimport { z } from 'zod';\n\nconst mcpServer = new McpServer({\n    name: 'tools-with-sample-server',\n    version: '1.0.0'\n});\n\n// Tool that uses LLM sampling to summarize any text\nmcpServer.registerTool(\n    'summarize',\n    {\n        description: 'Summarize any text using an LLM',\n        inputSchema: {\n            text: z.string().describe('Text to summarize')\n        }\n    },\n    async ({ text }) => {\n        // Call the LLM through MCP sampling\n        const response = await mcpServer.server.createMessage({\n            messages: [\n                {\n                    role: 'user',\n                    content: {\n                        type: 'text',\n                        text: `Please summarize the following text concisely:\\n\\n${text}`\n                    }\n                }\n            ],\n            maxTokens: 500\n        });\n\n        return {\n            content: [\n                {\n                    type: 'text',\n                    text: response.content.type === 'text' ? response.content.text : 'Unable to generate summary'\n                }\n            ]\n        };\n    }\n);\n\nasync function main() {\n    const transport = new StdioServerTransport();\n    await mcpServer.connect(transport);\n    console.log('MCP server is running...');\n}\n\nmain().catch(error => {\n    console.error('Server error:', error);\n    process.exit(1);\n});\n"],"names":[],"mappings":";;;AAMA,MAAM,YAAY,IAAI,UAAU;AAAA,EAC5B,MAAM;AAAA,EACN,SAAS;AACb,CAAC;AAGD,UAAU;AAAA,EACN;AAAA,EACA;AAAA,IACI,aAAa;AAAA,IACb,aAAa;AAAA,MACT,MAAM,EAAE,OAAA,EAAS,SAAS,mBAAmB;AAAA,IAAA;AAAA,EACjD;AAAA,EAEJ,OAAO,EAAE,KAAA,MAAW;AAEhB,UAAM,WAAW,MAAM,UAAU,OAAO,cAAc;AAAA,MAClD,UAAU;AAAA,QACN;AAAA,UACI,MAAM;AAAA,UACN,SAAS;AAAA,YACL,MAAM;AAAA,YACN,MAAM;AAAA;AAAA,EAAqD,IAAI;AAAA,UAAA;AAAA,QACnE;AAAA,MACJ;AAAA,MAEJ,WAAW;AAAA,IAAA,CACd;AAED,WAAO;AAAA,MACH,SAAS;AAAA,QACL;AAAA,UACI,MAAM;AAAA,UACN,MAAM,SAAS,QAAQ,SAAS,SAAS,SAAS,QAAQ,OAAO;AAAA,QAAA;AAAA,MACrE;AAAA,IACJ;AAAA,EAER;AACJ;AAEA,eAAe,OAAO;AAClB,QAAM,YAAY,IAAI,qBAAA;AACtB,QAAM,UAAU,QAAQ,SAAS;AACjC,UAAQ,IAAI,0BAA0B;AAC1C;AAEA,OAAO,MAAM,CAAA,UAAS;AAClB,UAAQ,MAAM,iBAAiB,KAAK;AACpC,UAAQ,KAAK,CAAC;AAClB,CAAC;"}